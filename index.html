<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>GoGard++</title>
  <style>
    /* --- Body and base styles --- */
    body {
      margin: 0;
      background-color: #0d0d0d;
      color: #f2f2f2;
      font-family: "Segoe UI", sans-serif;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      overflow: hidden;
    }

    /* --- Loading bars container --- */
    .loading-bars {
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 10px;
      padding: 0 40px;
      transition: transform 0.8s ease, opacity 0.8s ease;
      transform-origin: right;
      user-select: none;
    }

    /* When squished */
    .loading-bars.squish {
      transform: scaleX(0);
      opacity: 0;
    }

    /* Each bar */
    .bar {
      width: 100%;
      height: 6px;
      background: #1a1a1a;
      border-radius: 4px;
      overflow: hidden;
    }

    /* The colored fill inside bar */
    .bar-fill {
      height: 100%;
      width: 0%;
      background: #00ff88;
      transition: width 0.3s ease;
    }

    /* --- Main content container --- */
    .content {
      flex-grow: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1;
    }

    /* Status message styling */
    #statusMessage {
      font-size: 1.4rem;
      opacity: 1;
      user-select: none;
    }

    /* Disclaimer text */
    .disclaimer {
      color: #666;
      font-size: 12px;
      text-align: center;
      padding: 10px 20px;
      z-index: 2;
      user-select: none;
    }

    /* Input bar container */
    .input-bar {
      display: flex;
      justify-content: center;
      padding: 0 20px 20px 20px;
      z-index: 2;
    }

    /* Input styling */
    input#urlInput {
      width: 80%;
      max-width: 700px;
      padding: 14px 18px;
      font-size: 16px;
      border: none;
      border-radius: 25px;
      background-color: #1a1a1a;
      color: white;
      transition: all 0.25s ease;
      outline: none;
      user-select: text;
    }

    /* Hover and focus input effect */
    input#urlInput:hover, input#urlInput:focus {
      background-color: #262626;
      transform: scale(1.05);
    }

    /* Code flow console for hacker text */
    #codeFlow {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: #000;
      color: #0f0;
      font-family: monospace;
      font-size: 14px;
      display: none;
      z-index: 10;
      pointer-events: none;
      user-select: none;
      padding: 20px;
      white-space: pre-wrap;
      overflow-y: auto;
    }

    /* Final loading bar container */
    #finalLoading {
      position: fixed;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      width: 300px;
      height: 8px;
      background: #1a1a1a;
      border-radius: 4px;
      overflow: hidden;
      display: none;
      z-index: 11;
      user-select: none;
    }

    /* Final loading bar fill */
    #finalLoadingFill {
      height: 100%;
      width: 0;
      background: #00ff88;
      transition: width 1.5s ease;
    }

    /* Preset modal overlay */
    #presetModal {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(0,0,0,0.9);
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 20;
      color: white;
      padding: 20px;
      box-sizing: border-box;
      user-select: none;
    }

    /* Preset modal header */
    #presetModal h2 {
      margin-bottom: 20px;
    }

    /* Preset buttons container */
    #presetList {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
      max-width: 600px;
    }

    /* Individual preset button */
    .presetButton {
      background: #1a1a1a;
      border: 2px solid #00ff88;
      border-radius: 20px;
      padding: 12px 24px;
      cursor: pointer;
      transition: background 0.3s ease;
      color: white;
      user-select: none;
    }

    .presetButton:hover {
      background: #00ff88;
      color: black;
    }

    /* Close preset button */
    #closePreset {
      margin-top: 30px;
      color: #888;
      cursor: pointer;
      user-select: none;
    }

    #closePreset:hover {
      color: #00ff88;
    }
  </style>
</head>
<body>

  <!-- Loading bars -->
  <div class="loading-bars" id="loadingBars">
    <div class="bar"><div class="bar-fill" id="bar1"></div></div>
    <div class="bar"><div class="bar-fill" id="bar2"></div></div>
    <div class="bar"><div class="bar-fill" id="bar3"></div></div>
    <div class="bar"><div class="bar-fill" id="bar4"></div></div>
    <div class="bar"><div class="bar-fill" id="bar5"></div></div>
  </div>

  <!-- Main content area -->
  <div class="content">
    <div id="statusMessage">GoGard++</div>
  </div>

  <!-- Disclaimer -->
  <div class="disclaimer">This does not break any Glitch ToS, so please don't take down my project. Google Sites doesn't work so don't use it.</div>

  <!-- URL input -->
  <div class="input-bar">
    <input
      id="urlInput"
      type="text"
      placeholder="Enter a full URL like https://example.com"
      oninput="updateBars()"
      onfocus="expandInput()"
      onblur="shrinkInput()"
      onkeypress="checkEnter(event)"
      autocomplete="off"
      spellcheck="false"
    />
  </div>

  <!-- Hacker style code flow -->
  <pre id="codeFlow"></pre>

  <!-- Final loading bar -->
  <div id="finalLoading">
    <div id="finalLoadingFill"></div>
  </div>

  <!-- Preset modal -->
  <div id="presetModal">
    <h2>Choose a Preset Site</h2>
    <div id="presetList"></div>
    <div id="closePreset" onclick="closePresetModal()">Cancel</div>
  </div>

  <script>
    // DOM elements
    const input = document.getElementById("urlInput");
    const status = document.getElementById("statusMessage");

    const bars = [
      document.getElementById("bar1"),
      document.getElementById("bar2"),
      document.getElementById("bar3"),
      document.getElementById("bar4"),
      document.getElementById("bar5"),
    ];

    const fullDomains = [".com", ".net", ".org", ".io", ".gov", ".edu", ".co", ".me"];
    const loadingBars = document.getElementById("loadingBars");
    const codeFlow = document.getElementById("codeFlow");
    const finalLoading = document.getElementById("finalLoading");
    const finalLoadingFill = document.getElementById("finalLoadingFill");
    const presetModal = document.getElementById("presetModal");
    const presetList = document.getElementById("presetList");

    const presetSites = [
      { name: "gamest1", url: "https://only-games.github.io/" },
      { name: "gamest2", url: "https://unblockedgames200.github.io/" },
      { name: "gamest3", url: "https://coolunblockedgames.github.io/" },
      { name: "gamest4", url: "https://unblocked-2025.github.io/" },
      { name: "gamest5", url: "https://faf-games.github.io/" }
    ];

    const hackerPhrases = [
      "bypassing GoGuard...",
      "connecting to server...",
      "initializing proxy...",
      "decrypting data...",
      "injecting payload...",
      "scanning ports...",
      "firewall disabled...",
      "accessing darknet...",
      "routing through VPN...",
      "establishing secure tunnel...",
      "uploading exploit...",
      "masking IP address...",
      "reconfiguring DNS...",
      "spoofing credentials...",
      "launching payload..."
    ];

    let codeFlowInterval;

    // Update loading bars on input change
    function updateBars() {
      const value = input.value.trim();
      const hasProtocol = value.startsWith("http://") || value.startsWith("https://");
      const hasValidDomain = fullDomains.some(domain => value.endsWith(domain));

      for (let i = 0; i < bars.length; i++) {
        if (hasProtocol && hasValidDomain) {
          bars[i].style.width = "100%";
        } else {
          const base = Math.min(value.length / 50, 1) * 100;
          bars[i].style.width = base * ((i + 1) / bars.length) + "%";
        }
      }
    }

    // On Enter key pressed
    function checkEnter(e) {
      if (e.key === "Enter") startOpenSequence(input.value.trim());
    }

    // Open preset modal when Tab is pressed with valid URL
    input.addEventListener("keydown", (e) => {
      if (e.key === "Tab") {
        e.preventDefault();
        const val = input.value.trim();
        if ((val.startsWith("http://") || val.startsWith("https://")) && presetSites.length > 0) {
          openPresetModal();
        } else {
          alert("Please type a valid full URL before viewing presets.");
        }
      }
    });

    // Open preset modal and populate buttons
    function openPresetModal() {
      presetList.innerHTML = "";
      presetSites.forEach(site => {
        const btn = document.createElement("div");
        btn.className = "presetButton";
        btn.textContent = site.name;
        btn.onclick = () => {
          closePresetModal();
          startOpenSequence(site.url);
        };
        presetList.appendChild(btn);
      });
      presetModal.style.display = "flex";
    }

    // Close preset modal
    function closePresetModal() {
      presetModal.style.display = "none";
    }

    // Start the open sequence animations and actions
    function startOpenSequence(url) {
      if (!url.startsWith("http://") && !url.startsWith("https://")) {
        alert("Please enter a full URL starting with http:// or https://");
        return;
      }

      input.disabled = true;
      input.style.opacity = 0.3;
      loadingBars.classList.remove("squish");

      bars.forEach(bar => bar.style.width = "0%");
      let barIndex = 0;

      function fillNextBar() {
        if (barIndex >= bars.length) {
          loadingBars.classList.add("squish");
          startCodeFlowAnimation(url);
          return;
        }
        bars[barIndex].style.width = "100%";
        barIndex++;
        setTimeout(fillNextBar, 350);
      }

      fillNextBar();
    }

    // Animate hacker style code flow text
    function startCodeFlowAnimation(url) {
      codeFlow.style.display = "block";
      input.style.display = "none";
      let index = 0;

      codeFlow.textContent = "";
      status.textContent = "Bypassing URL...";

      codeFlowInterval = setInterval(() => {
        if (index >= hackerPhrases.length) {
          clearInterval(codeFlowInterval);
          showFinalLoading(url);
          return;
        }
        codeFlow.textContent += hackerPhrases[index++] + "\n";
        codeFlow.scrollTop = codeFlow.scrollHeight;
      }, 200);
    }

    // Show final loading bar animation
    function showFinalLoading(url) {
      finalLoading.style.display = "block";
      finalLoadingFill.style.width = "0%";
      setTimeout(() => finalLoadingFill.style.width = "100%", 100);
      setTimeout(() => {
        openIframeWindow(url);
        resetUI();
      }, 1800);
    }

    // Open URL inside a new window with iframe
    function openIframeWindow(url) {
      const win = window.open("about:blank", "_blank");
      if (!win) {
        alert("Popup blocked. Allow popups for this site.");
        return;
      }
      win.document.write(
        <html><body style="margin:0;">
        <iframe src="${url}" frameborder="0" style="width:100vw;height:100vh;"></iframe>
        </body></html>
      );
    }

    // Reset UI to initial state
    function resetUI() {
      input.disabled = false;
      input.style.opacity = 1;
      input.style.display = "block";
      input.value = "";
      loadingBars.classList.remove("squish");
      bars.forEach(bar => bar.style.width = "0%");
      codeFlow.style.display = "none";
      codeFlow.textContent = "";
      finalLoading.style.display = "none";
      finalLoadingFill.style.width = "0%";
      status.textContent = "GoGard++";
      input.focus();
    }

    // Input width expand on focus
    function expandInput() {
      input.style.width = "85%";
    }

    // Input width shrink on blur
    function shrinkInput() {
      input.style.width = "80%";
    }

    // Focus input on page load
    window.onload = () => {
      input.focus();
    };
  </script>
</body>
</html>
