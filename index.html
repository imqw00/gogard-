<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>GoGard++</title>
  <style>
    body {
      margin: 0;
      background-color: #0d0d0d;
      color: #f2f2f2;
      font-family: "Segoe UI", sans-serif;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      overflow: hidden;
    }
    .loading-bars { display: flex; flex-direction: column; gap: 5px; padding: 20px; }
    .bar { background: #333; height: 8px; width: 100%; border-radius: 4px; overflow: hidden; }
    .bar-fill { background: #0f0; height: 100%; width: 0%; transition: width 0.3s; }
    .content { text-align: center; margin-bottom: 20px; font-size: 24px; }
    #statusMessage { font-weight: bold; }
    .disclaimer { font-size: 12px; text-align: center; opacity: 0.5; margin-bottom: 10px; }
    .input-bar { display: flex; justify-content: center; margin-bottom: 20px; }
    input#urlInput {
      background: #111;
      color: #f2f2f2;
      border: 1px solid #333;
      padding: 10px;
      font-size: 16px;
      width: 80%;
      border-radius: 8px;
      transition: width 0.3s;
    }
    input#urlInput:hover, input#urlInput:focus {
      border-color: #0f0;
      outline: none;
    }
    #codeFlow {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: #000;
      color: #0f0;
      font-family: monospace;
      font-size: 14px;
      display: none;
      z-index: 10;
      pointer-events: none;
      user-select: none;
      padding: 20px;
      white-space: pre-wrap;
      overflow-y: auto;
    }
    #finalLoading {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 5px;
      background: #222;
    }
    #finalLoadingFill {
      height: 100%;
      background: #0f0;
      width: 0%;
      transition: width 1.5s linear;
    }
    #presetModal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.95);
      color: white;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 15;
    }
    #presetModal h2 { margin-bottom: 20px; }
    #presetList { display: flex; flex-direction: column; gap: 10px; }
    .presetButton {
      padding: 10px 20px;
      background: #111;
      color: #0f0;
      border: 1px solid #0f0;
      border-radius: 8px;
      cursor: pointer;
    }
    .presetButton:hover {
      background: #0f0;
      color: #000;
    }
    #closePreset {
      margin-top: 20px;
      cursor: pointer;
      color: red;
    }
    #closePreset:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>

  <div class="loading-bars" id="loadingBars">
    <div class="bar"><div class="bar-fill" id="bar1"></div></div>
    <div class="bar"><div class="bar-fill" id="bar2"></div></div>
    <div class="bar"><div class="bar-fill" id="bar3"></div></div>
    <div class="bar"><div class="bar-fill" id="bar4"></div></div>
    <div class="bar"><div class="bar-fill" id="bar5"></div></div>
  </div>

  <div class="content">
    <div id="statusMessage">GoGard++</div>
  </div>

  <div class="disclaimer">This does not break any Glitch ToS, so please don't take down my project. Google Sites doesn't work so don't use it.</div>

  <div class="input-bar">
    <input
      id="urlInput"
      type="text"
      placeholder="Enter a full URL like https://example.com"
      oninput="updateBars()"
      onfocus="expandInput()"
      onblur="shrinkInput()"
      onkeypress="checkEnter(event)"
      autocomplete="off"
      spellcheck="false"
    />
  </div>

  <pre id="codeFlow"></pre>
  <div id="finalLoading"><div id="finalLoadingFill"></div></div>

  <div id="presetModal">
    <h2>Choose a Preset Site</h2>
    <div id="presetList"></div>
    <div id="closePreset" onclick="closePresetModal()">Cancel</div>
  </div>

  <script>
    const input = document.getElementById("urlInput");
    const status = document.getElementById("statusMessage");
    const bars = [
      document.getElementById("bar1"),
      document.getElementById("bar2"),
      document.getElementById("bar3"),
      document.getElementById("bar4"),
      document.getElementById("bar5"),
    ];
    const fullDomains = [".com", ".net", ".org", ".io", ".gov", ".edu", ".co", ".me"];
    const loadingBars = document.getElementById("loadingBars");
    const codeFlow = document.getElementById("codeFlow");
    const finalLoading = document.getElementById("finalLoading");
    const finalLoadingFill = document.getElementById("finalLoadingFill");
    const presetModal = document.getElementById("presetModal");
    const presetList = document.getElementById("presetList");

    const presetSites = [
      { name: "gamest1", url: "https://only-games.github.io/" },
      { name: "gamest2", url: "https://unblockedgames200.github.io/" },
      { name: "gamest3", url: "https://coolunblockedgames.github.io/" },
      { name: "gamest4", url: "https://unblocked-2025.github.io/" },
      { name: "gamest5", url: "https://faf-games.github.io/" }
    ];

    const hackerPhrases = [
      "bypassing GoGuard...",
      "connecting to server...",
      "initializing proxy...",
      "decrypting data...",
      "injecting payload...",
      "scanning ports...",
      "firewall disabled...",
      "accessing darknet...",
      "routing through VPN...",
      "establishing secure tunnel...",
      "uploading exploit...",
      "masking IP address...",
      "reconfiguring DNS...",
      "spoofing credentials...",
      "launching payload..."
    ];

    let codeFlowInterval;

    function updateBars() {
      const value = input.value.trim();
      const hasProtocol = value.startsWith("http://") || value.startsWith("https://");
      const hasValidDomain = fullDomains.some(domain => value.endsWith(domain));
      for (let i = 0; i < bars.length; i++) {
        if (hasProtocol && hasValidDomain) {
          bars[i].style.width = "100%";
        } else {
          const base = Math.min(value.length / 50, 1) * 100;
          bars[i].style.width = base * ((i + 1) / bars.length) + "%";
        }
      }
    }

    function checkEnter(e) {
      if (e.key === "Enter") {
        const val = input.value.trim();
        if (val === "(ai)") {
          openDevConsole();
          return;
        }
        startOpenSequence(val);
      }
    }

    input.addEventListener("keydown", (e) => {
      if (e.key === "Tab") {
        e.preventDefault();
        const val = input.value.trim();
        if ((val.startsWith("http://") || val.startsWith("https://")) && presetSites.length > 0) {
          openPresetModal();
        } else {
          alert("Please type a valid full URL before viewing presets.");
        }
      }
    });

    function openPresetModal() {
      presetList.innerHTML = "";
      presetSites.forEach(site => {
        const btn = document.createElement("div");
        btn.className = "presetButton";
        btn.textContent = site.name;
        btn.onclick = () => {
          closePresetModal();
          startOpenSequence(site.url);
        };
        presetList.appendChild(btn);
      });
      presetModal.style.display = "flex";
    }

    function closePresetModal() {
      presetModal.style.display = "none";
    }

    function startOpenSequence(url) {
      if (!url.startsWith("http://") && !url.startsWith("https://")) {
        alert("Please enter a full URL starting with http:// or https://");
        return;
      }
      input.disabled = true;
      input.style.opacity = 0.3;
      bars.forEach(bar => bar.style.width = "0%");
      let barIndex = 0;
      function fillNextBar() {
        if (barIndex >= bars.length) {
          startCodeFlowAnimation(url);
          return;
        }
        bars[barIndex].style.width = "100%";
        barIndex++;
        setTimeout(fillNextBar, 350);
      }
      fillNextBar();
    }

    function startCodeFlowAnimation(url) {
      codeFlow.style.display = "block";
      input.style.display = "none";
      let index = 0;
      codeFlow.textContent = "";
      status.textContent = "Bypassing URL...";
      codeFlowInterval = setInterval(() => {
        if (index >= hackerPhrases.length) {
          clearInterval(codeFlowInterval);
          showFinalLoading(url);
          return;
        }
        codeFlow.textContent += hackerPhrases[index++] + "\n";
        codeFlow.scrollTop = codeFlow.scrollHeight;
      }, 200);
    }

    function showFinalLoading(url) {
      finalLoading.style.display = "block";
      finalLoadingFill.style.width = "0%";
      setTimeout(() => finalLoadingFill.style.width = "100%", 100);
      setTimeout(() => {
        openIframeWindow(url);
        resetUI();
      }, 1800);
    }

    function openIframeWindow(url) {
      const win = window.open("about:blank", "_blank");
      if (!win) {
        alert("Popup blocked. Allow popups for this site.");
        return;
      }

      win.document.write(`
        <html>
        <head>
          <style>
            body { margin: 0; background: black; }
            #codeFlow {
              position: fixed; top: 0; left: 0;
              width: 100vw; height: 100vh;
              background: #000; color: #0f0;
              font-family: monospace; font-size: 14px;
              z-index: 10; padding: 20px;
              white-space: pre-wrap; overflow-y: auto;
              display: none;
            }
            #consoleInput {
              position: fixed; bottom: 10px; left: 20px;
              width: 90%; background: black; color: #0f0;
              font-family: monospace; font-size: 14px;
              border: none; outline: none;
              z-index: 11; display: none;
            }
          </style>
        </head>
        <body>
          <iframe src="${url}" frameborder="0" style="width:100vw; height:100vh; border:none;"></iframe>
          <pre id="codeFlow"></pre>
          <input id="consoleInput" placeholder="> Type a command..." />
          <script>
            const codeFlow = document.getElementById("codeFlow");
            const consoleInput = document.getElementById("consoleInput");
            function logToConsole(text) {
              codeFlow.textContent += text + "\\n";
              codeFlow.scrollTop = codeFlow.scrollHeight;
            }
            function showConsole() {
              codeFlow.style.display = "block";
              consoleInput.style.display = "block";
              consoleInput.focus();
              logToConsole("[✔] Console activated.");
            }
            function runCommand(cmd) {
              cmd = cmd.trim().toLowerCase();
              switch (cmd) {
                case "help":
                  logToConsole("Available commands: help, about, clear, time, joke");
                  break;
                case "about":
                  logToConsole("GoGard++ overlay console v1.0");
                  break;
                case "clear":
                  codeFlow.textContent = "";
                  break;
                case "time":
                  logToConsole("Current time: " + new Date().toLocaleTimeString());
                  break;
                case "joke":
                  logToConsole("Why do coders prefer dark mode? Because light attracts bugs.");
                  break;
                default:
                  logToConsole("Unknown command: " + cmd);
              }
            }
            consoleInput.addEventListener("keydown", e => {
              if (e.key === "Enter") {
                const cmd = consoleInput.value;
                logToConsole("> " + cmd);
                runCommand(cmd);
                consoleInput.value = "";
              }
            });
            window.addEventListener("keydown", (e) => {
              if (e.key === "\`") {
                showConsole();
              }
            });
          </script>
        </body>
        </html>
      `);
    }

    function resetUI() {
      input.disabled = false;
      input.style.opacity = 1;
      input.style.display = "block";
      input.value = "";
      bars.forEach(bar => bar.style.width = "0%");
      codeFlow.style.display = "none";
      codeFlow.textContent = "";
      finalLoading.style.display = "none";
      finalLoadingFill.style.width = "0%";
      status.textContent = "GoGard++";
      input.focus();
    }

    function expandInput() {
      input.style.width = "85%";
    }

    function shrinkInput() {
      input.style.width = "80%";
    }

    function openDevConsole() {
      codeFlow.style.display = "block";
      input.style.display = "none";
      status.textContent = "Launching AI Assistant...";
      codeFlow.textContent = "";
      let devLogs = [
        "[System] Initializing ChatGPT Overlay...",
        "[Log] Injecting AI response engine...",
        "[Debug] Setting up context memory...",
        "[✔] AI assistant ready.",
        "Type your commands below..."
      ];
      let i = 0;
      let interval = setInterval(() => {
        if (i >= devLogs.length) {
          clearInterval(interval);
          return;
        }
        codeFlow.textContent += devLogs[i++] + "\n";
        codeFlow.scrollTop = codeFlow.scrollHeight;
      }, 300);
    }

    window.onload = () => {
      input.focus();
    };
  </script>
</body>
</html>
